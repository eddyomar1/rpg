<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPG Battle Arena 3D</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>‚öîÔ∏è RPG Battle Arena ‚öîÔ∏è</h1>
            <p>Derrota a tus enemigos y convi√©rtete en una leyenda</p>
        </header>

        <!-- Pantalla de Inicio -->
        <div id="startScreen" class="screen active">
            <h2>Bienvenido, Aventurero</h2>
            <p>Elige tu clase y comienza tu viaje √©pico</p>
            
            <div class="character-selection">
                <div class="character-card" onclick="selectCharacter('warrior')">
                    <div class="character-icon">‚öîÔ∏è</div>
                    <h3>Guerrero</h3>
                    <p>Alta defensa y ataque</p>
                    <span class="stats">HP: 150 | ATK: 15 | DEF: 12</span>
                </div>
                
                <div class="character-card" onclick="selectCharacter('mage')">
                    <div class="character-icon">üîÆ</div>
                    <h3>Mago</h3>
                    <p>Hechizos poderosos</p>
                    <span class="stats">HP: 100 | ATK: 20 | DEF: 8</span>
                </div>
                
                <div class="character-card" onclick="selectCharacter('archer')">
                    <div class="character-icon">üèπ</div>
                    <h3>Arquero</h3>
                    <p>Velocidad y precisi√≥n</p>
                    <span class="stats">HP: 120 | ATK: 18 | DEF: 10</span>
                </div>
                
                <div class="character-card" onclick="selectCharacter('paladin')">
                    <div class="character-icon">üõ°Ô∏è</div>
                    <h3>Palad√≠n</h3>
                    <p>Equilibrio perfecto</p>
                    <span class="stats">HP: 140 | ATK: 14 | DEF: 14</span>
                </div>
            </div>
        </div>

        <!-- Pantalla de Batalla -->
        <div id="battleScreen" class="screen">
            <div class="battle-info">
                <div>
                    <h2>‚öîÔ∏è Batalla en Progreso</h2>
                    <p id="waveInfo">Ola: <span id="wave">1</span> | Enemigos: <span id="enemyCount">0</span></p>
                </div>
                <div class="view-toggle">
                    <button class="view-btn active" id="view3dBtn" onclick="setBattleView('3d')">Vista 3D</button>
                    <button class="view-btn" id="view2dBtn" onclick="setBattleView('2d')">Vista 2D</button>
                </div>
            </div>

            <!-- Arena 3D -->
            <div id="battleArena3D" class="battle-arena-3d"></div>
            <canvas id="battleArena2D" class="battle-arena-2d"></canvas>

            <!-- Panel de informaci√≥n (superpuesto sobre 3D) -->
            <div class="battle-info-overlay">
                <div class="character-section player-section">
                    <div class="character-display">
                        <div id="playerIcon" class="character-icon-large">‚öîÔ∏è</div>
                        <div class="character-info">
                            <h3 id="playerName">Jugador</h3>
                            <div class="stat-bar">
                                <div class="stat-label">HP</div>
                                <div class="progress-bar">
                                    <div id="playerHpBar" class="hp-fill"></div>
                                </div>
                                <span id="playerHp">150/150</span>
                            </div>
                            <div class="stats-display">
                                <span>ATK: <span id="playerAtk">15</span></span>
                                <span>DEF: <span id="playerDef">12</span></span>
                                <span>LVL: <span id="playerLevel">1</span></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enemigo -->
                <div class="character-section enemy-section">
                    <div class="character-display">
                        <div id="enemyIcon" class="character-icon-large">üëπ</div>
                        <div class="character-info">
                            <h3 id="enemyName">Enemigo</h3>
                            <div class="stat-bar">
                                <div class="stat-label">HP</div>
                                <div class="progress-bar">
                                    <div id="enemyHpBar" class="hp-fill"></div>
                                </div>
                                <span id="enemyHp">100/100</span>
                            </div>
                            <div class="stats-display">
                                <span>ATK: <span id="enemyAtk">10</span></span>
                                <span>DEF: <span id="enemyDef">5</span></span>
                                <span>LVL: <span id="enemyLevel">1</span></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Log de Batalla -->
            <div class="battle-log">
                <h4>üìú Registro de Batalla</h4>
                <div id="battleLog" class="log-content"></div>
            </div>

            <!-- Acciones -->
            <div class="actions">
                <button class="action-btn attack-btn" onclick="playerAttack()" title="Presiona Q/1/A">
                    <span class="btn-emoji">‚öîÔ∏è</span>
                    <span class="btn-text">Ataque (Q)</span>
                </button>
                <button class="action-btn skill-btn" onclick="playerSkill()" title="Presiona W/2/S">
                    <span class="btn-emoji">‚ú®</span>
                    <span class="btn-text">Especial (W)</span>
                </button>
                <button class="action-btn heal-btn" onclick="playerHeal()" title="Presiona E/3/D">
                    <span class="btn-emoji">üíö</span>
                    <span class="btn-text">Curar (E)</span>
                </button>
                <button class="action-btn defend-btn" onclick="playerDefend()" title="Presiona R/4/F">
                    <span class="btn-emoji">üõ°Ô∏è</span>
                    <span class="btn-text">Defender (R)</span>
                </button>
            </div>
        </div>

        <!-- Pantalla de Fin de Juego -->
        <div id="gameOverScreen" class="screen">
            <div id="gameOverContent">
                <h2 id="gameOverTitle">¬°Has Perdido!</h2>
                <div class="game-over-stats">
                    <p>Nivel alcanzado: <span id="finalLevel">1</span></p>
                    <p>Enemigos derrotados: <span id="enemiesDefeated">0</span></p>
                    <p>Ola completada: <span id="waveCompleted">1</span></p>
                </div>
                <button class="action-btn" onclick="location.reload()">
                    <span class="btn-emoji">üîÑ</span>
                    <span class="btn-text">Jugar de Nuevo</span>
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="character-builder.js"></script>
    <script src="animations.js"></script>
    <script src="three-setup.js"></script>
    <script src="battle2d.js"></script>
    <script src="game.js"></script>
</body>
</html>
